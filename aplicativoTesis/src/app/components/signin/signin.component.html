<div>
  <app-navbar></app-navbar>
</div>

<div class="body">
  <div class="login">
    <mat-card>
      <form [formGroup]="form">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Nombres<span
                    class="text-danger">*</span></span></label>
              <input type="text" class="form-control" formControlName="name"
                [ngClass]="{'is-invalid border-danger': form.get('name')?.touched && form.get('name')?.invalid}">
              <div *ngIf="form.get('name')?.errors && form.get('name')?.dirty">
                <div class="text-danger" *ngIf="form.get('name')?.hasError('required')">
                  El nombre es requerido
                </div>
                <div class="text-danger" *ngIf="form.get('name')?.hasError('pattern')">
                  Caracter invalido
                </div>
              </div>
            </div>
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Apellidos<span
                    class="text-danger">*</span></span></label>
              <input type="text" class="form-control" formControlName="lastName"
                [ngClass]="{'is-invalid border-danger': form.get('lastName')?.touched && form.get('lastName')?.invalid}">
              <div *ngIf="form.get('lastName')?.errors && form.get('lastName')?.dirty">
                <div class="text-danger" *ngIf="form.get('lastName')?.hasError('required')">
                  Los apellidos es requerido
                </div>
                <div class="text-danger" *ngIf="form.get('lastName')?.hasError('pattern')">
                  Caracter invalido
                </div>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Correo Electronico<span
                    class="text-danger">*</span></span></label>
              <input type="text" class="form-control" formControlName="email"
                [ngClass]="{'is-invalid border-danger': form.get('email')?.touched && form.get('email')?.invalid}">
              <div *ngIf="form.get('email')?.errors && form.get('email')?.dirty">
                <div class="text-danger" *ngIf="form.get('email')?.hasError('required')">
                  El correo es requerido
                </div>
                <div class="text-danger" *ngIf="form.get('email')?.hasError('email')">
                  El correo no es valido
                </div>
              </div>
            </div>
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Teléfono<span class="text-danger">*</span></span></label>
              <input type="text" class="form-control" formControlName="tel"
              [ngClass]="{'is-invalid border-danger': form.get('tel')?.touched && form.get('tel')?.invalid}">
              <div *ngIf="form.get('tel')?.errors && form.get('tel')?.dirty">
                <div class="text-danger" *ngIf="form.get('tel')?.hasError('required')">
                  El teléfono es requerido
                </div>
                <div class="text-danger" *ngIf="form.get('tel')?.hasError('pattern')">
                  Caracter invalido
                </div>  
                <div class="text-danger" *ngIf="form.get('tel')?.hasError('minlength')">
                  Este campo resive minimo 7 caracteres
                </div>
                <div class="text-danger" *ngIf="form.get('tel')?.hasError('maxlength')">
                  Este campo resive maximo 10 caracteres
                </div>  
              </div>  
            </div>
          </div>
          <div class="row mt-2">
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Contraseña<span class="text-danger">*</span></span></label>
              <div class="input-group">
                <input #passInput type="password" class="form-control" formControlName="password"
                [ngClass]="{'is-invalid border-danger': form.get('password')?.touched && form.get('password')?.invalid}">
                <button (click)="togglePasswordInputType()" class="btn btn-outline-muted " type="button"
                  style="cursor: pointer; background: rgb(215, 211, 211);" alt="toggle-passord">
                  <img src="assets/img/pass-eye.svg" alt="eye-pass">
                </button>
              </div>
              <div *ngIf="form.get('password')?.errors && form.get('password')?.dirty">
                <div class="text-danger" *ngIf="form.get('password')?.hasError('required')">
                  La contraseña es requerida
                </div>
                <div class="text-danger" *ngIf="form.get('password')?.hasError('minlength')">
                  Este campo resive minimo 8 caracteres
                </div>
                <div class="text-danger" *ngIf="form.get('password')?.hasError('maxlength')">
                  Este campo resive maximo 15 caracteres
                </div>
              </div> 
            </div>
            <div class="col">
              <label for="exampleInputEmail1" class="form-label"><span>Confirmar Contraseña</span><span class="text-danger">*</span></label>
              <div class="input-group">
                <input #passConfInput type="password" class="form-control" formControlName="confirmPassword"
                [ngClass]="{'is-invalid border-danger': form.get('password')?.touched && form.get('password')?.invalid}">
                <button (click)="toogleConfirmPasswordInputType()" class="btn btn-outline-muted " type="button"
                  style="cursor: pointer; background: rgb(215, 211, 211);" alt="toggle-passord">
                  <img src="assets/img/pass-eye.svg" alt="eye-pass">
                </button>
              </div>
              <div *ngIf="form.get('confirmPassword')?.errors && form.get('confirmPassword')?.dirty">
                <div class="text-danger" *ngIf="form.get('confirmPassword')?.hasError('required')">
                  La contraseña es requerida
                </div>
                <div class="text-danger" *ngIf="form.get('confirmPassword')?.hasError('minlength')">
                  Este campo resive minimo 8 caracteres
                </div>
                <div class="text-danger" *ngIf="form.get('confirmPassword')?.hasError('maxlength')">
                  Este campo resive maximo 15 caracteres
                </div>
                <label class="text-danger" *ngIf="form.controls['confirmPassword'].hasError('NoPassswordMatch')">
                  Las contraseñas no coinciden
                </label>
              </div>    
            </div>
          </div>
          <div class="row mt-2">
            <label for="exampleInputEmail1" class="form-label">Seleccione sus habilidadades</label>
            <mat-form-field class="example-chip-list ancho" appearance="fill">
              <mat-label>Habilidades</mat-label>
              <mat-chip-list #chipList aria-label="seleccion de habilidades">
                <mat-chip *ngFor="let skill of skills" [selectable]="selectable" [removable]="removable"
                  (removed)="remove(skill)">
                  {{skill}}
                  <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input placeholder="Agregar habilidad..." #skillInput [formControl]="skillCtrl" [matAutocomplete]="auto"
                  [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  (matChipInputTokenEnd)="add($event)">
              </mat-chip-list>
              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let skill of filteredSkills | async" [value]="skill">
                  {{skill}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="row">
            <div class="col">
              <button routerLink="/Login" type="button" mat-raised-button color="warn" class="float-star">
                Login
              </button>
            </div>
            <div class="col">
              <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid" (click)="save()"
                class="float-end">
                Registrar
              </button>
            </div>
          </div>
        </div>
      </form>
    </mat-card>
  </div>
</div>